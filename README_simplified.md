# ClueWeb22 Simplified Generator

## æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„PROMPT-onlyç ”ç©¶é—®é¢˜ç”Ÿæˆç³»ç»Ÿï¼Œä¸“é—¨å¤„ç†ClueWeb22æŸ¥è¯¢ç»“æœå’Œèƒ½æºæ–‡çŒ®ï¼Œç”ŸæˆåŸŸæŠ¥å‘Šå’Œæ·±åº¦ç ”ç©¶é—®é¢˜ã€‚

## ç³»ç»Ÿç‰¹ç‚¹

### ğŸ¯ **ç®€åŒ–è®¾è®¡**
- **çº¯PROMPTæ–¹æ³•** - ä¸ä½¿ç”¨RAGï¼Œé¿å…è·¨åŸŸåŒ¹é…é—®é¢˜
- **ç»Ÿä¸€å¤„ç†** - åŒæ—¶å¤„ç†ClueWeb22å’Œèƒ½æºæ–‡çŒ®topics
- **è‡ªåŠ¨åˆ†ç±»** - æ™ºèƒ½å°†588ç¯‡èƒ½æºè®ºæ–‡æŒ‰å­é¢†åŸŸåˆ†ç»„

### ğŸ”„ **å¤„ç†æµç¨‹**
```
æ–‡æ¡£é›†åˆ â†’ åŸŸè¯†åˆ« â†’ ä¸“å®¶æŠ¥å‘Š â†’ ç ”ç©¶é—®é¢˜
```

1. **æ–‡æ¡£åŠ è½½** - åŠ è½½ClueWeb22æ–‡æ¡£æˆ–èƒ½æºè®ºæ–‡
2. **åŸŸè¯†åˆ«** - ä½¿ç”¨Claudeåˆ†æåŸŸç‰¹å¾å’Œä¸»é¢˜
3. **æŠ¥å‘Šç”Ÿæˆ** - ç”Ÿæˆ1500-2000è¯çš„ä¸“å®¶çº§åŸŸæŠ¥å‘Š
4. **é—®é¢˜ç”Ÿæˆ** - åŸºäºæŠ¥å‘Šç”Ÿæˆ50ä¸ªæ·±åº¦ç ”ç©¶é—®é¢˜

## æ–‡ä»¶ç»“æ„

```
â”œâ”€â”€ clueweb22_simplified_generator.py    # ä¸»ç”Ÿæˆç³»ç»Ÿ
â”œâ”€â”€ test_simplified_single.py           # å•topicæµ‹è¯•è„šæœ¬
â”œâ”€â”€ README_simplified.md                # æœ¬æ–‡æ¡£
â”œâ”€â”€ archive_old_versions/               # æ—§ç‰ˆæœ¬å½’æ¡£
â”‚   â”œâ”€â”€ clueweb22_prompt_rag_generator.py
â”‚   â”œâ”€â”€ enhanced_generation_system.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ task_file/
â”‚   â””â”€â”€ clueweb22_query_results/        # ClueWeb22æŸ¥è¯¢ç»“æœ
â””â”€â”€ RAG/
    â””â”€â”€ data/metadata/                  # èƒ½æºè®ºæ–‡æ•°æ®
```

## æ•°æ®æº

### ğŸ“„ **ClueWeb22 Topics (9ä¸ª)**
- `clueweb22-en0000-00-00000` - æœ›è¿œé•œå†å² (100æ–‡æ¡£)
- `clueweb22-en0028-68-06349` - å„ç§ä¸»é¢˜ (100æ–‡æ¡£)
- `clueweb22-en0037-99-02648` - å„ç§ä¸»é¢˜ (100æ–‡æ¡£)
- `clueweb22-ja0001-17-28828` - æ—¥è¯­æ¸¯å£è°ƒåº¦ (100æ–‡æ¡£)
- `clueweb22-en0044-53-10967` - å„ç§ä¸»é¢˜ (100æ–‡æ¡£)
- `clueweb22-en0005-84-07694` - å„ç§ä¸»é¢˜ (100æ–‡æ¡£)
- `clueweb22-ja0009-18-07874` - æ—¥è¯­æ°´å½©è‰ºæœ¯ (100æ–‡æ¡£)
- `clueweb22-en0026-20-03284` - å„ç§ä¸»é¢˜ (10æ–‡æ¡£)
- `clueweb22-en0023-77-17052` - å„ç§ä¸»é¢˜ (10æ–‡æ¡£)

### âš¡ **èƒ½æºæ–‡çŒ®Topics (è‡ªåŠ¨åˆ†ç»„)**
åŸºäº588ç¯‡èƒ½æºè®ºæ–‡ï¼ŒæŒ‰å…³é”®è¯è‡ªåŠ¨åˆ†ç»„ä¸ºï¼š
- `energy_renewable_energy` - å¯å†ç”Ÿèƒ½æº
- `energy_fossil_fuels` - åŒ–çŸ³ç‡ƒæ–™
- `energy_nuclear_energy` - æ ¸èƒ½
- `energy_grid_storage` - ç”µç½‘å‚¨èƒ½
- `energy_energy_policy` - èƒ½æºæ”¿ç­–
- `energy_energy_economics` - èƒ½æºç»æµ
- `energy_environmental_impact` - ç¯å¢ƒå½±å“

## ä½¿ç”¨æ–¹æ³•

### ğŸ§ª **æµ‹è¯•å•ä¸ªTopic**
```bash
python test_simplified_single.py
```

### ğŸš€ **å¤„ç†æ‰€æœ‰Topics**
```bash
python clueweb22_simplified_generator.py
```

## è¾“å‡ºæ ¼å¼

### ğŸ“Š **æ¯ä¸ªTopicç”Ÿæˆ**
- **åŸŸæŠ¥å‘Š** (1500-2000è¯)
- **ç ”ç©¶é—®é¢˜** (25-50ä¸ªï¼Œæ ¹æ®æ–‡æ¡£æ•°é‡è°ƒæ•´)
- **å…ƒæ•°æ®** (åŸŸä¿¡æ¯ã€ç»Ÿè®¡æ•°æ®)

### ğŸ“ **è¾“å‡ºæ–‡ä»¶**
```
clueweb22_simplified_output/
â”œâ”€â”€ {topic_id}_results.json                    # å•ä¸ªtopicç»“æœ
â”œâ”€â”€ clueweb22_simplified_results_{timestamp}.json  # å®Œæ•´ç»“æœ
â””â”€â”€ clueweb22_simplified_results_{timestamp}.xlsx  # Excelæ ¼å¼
```

### ğŸ“‹ **JSONç»“æ„**
```json
{
  "topic_id": "clueweb22-en0000-00-00000",
  "topic_type": "clueweb22",
  "topic_source": "ClueWeb22 Query Results",
  "domain_info": {
    "primary_domain": "History of Telescopes and Astronomy",
    "key_themes": ["telescope development", "scientific innovation"],
    "content_type": "Web Content",
    "language": "en",
    "scope": "medium",
    "complexity_level": "intermediate"
  },
  "document_stats": {
    "total_documents": 100,
    "total_words": 45000,
    "avg_doc_length": 450
  },
  "domain_report": "# Domain Report: History of Telescopes...",
  "research_questions": [
    {
      "question_id": "Q001",
      "question_text": "How did early lens-grinding techniques...",
      "difficulty": "Easy",
      "question_type": "Analytical",
      "rationale": "Understanding foundational technologies..."
    }
  ]
}
```

## é—®é¢˜ç”Ÿæˆè§„æ ¼

### ğŸ“Š **éš¾åº¦åˆ†å¸ƒ**
- **Easy** (30%) - åŸºç¡€æ¦‚å¿µï¼Œç›´æ¥åˆ†æ
- **Medium** (45%) - å¤šå› ç´ åˆ†æï¼Œä¸­ç­‰ç»¼åˆ
- **Hard** (25%) - å¤æ‚ç³»ç»Ÿæ€ç»´ï¼Œç»¼åˆæ¡†æ¶

### ğŸ¯ **é—®é¢˜ç±»å‹**
- **Analytical** - åˆ†è§£å¤æ‚ä¸»é¢˜
- **Comparative** - æ¯”è¾ƒä¸åŒæ–¹æ³•
- **Evaluative** - è¯„ä¼°æ•ˆæœå’Œä»·å€¼
- **Synthetic** - ç»¼åˆå¤šä¸ªæ¦‚å¿µ
- **Predictive** - é¢„æµ‹è¶‹åŠ¿å‘å±•
- **Critical** - æ‰¹åˆ¤æ€§è¯„ä¼°
- **Exploratory** - æ¢ç´¢æ–°é¢†åŸŸ
- **Applied** - å®é™…åº”ç”¨å¯¼å‘

## æŠ€æœ¯è§„æ ¼

### ğŸ”§ **APIé…ç½®**
- **æ¨¡å‹**: Claude-3.5-Sonnet-20241022
- **æœ€å¤§tokens**: 4000 (æŠ¥å‘Š), 2000 (é—®é¢˜)
- **è¶…æ—¶**: 120ç§’
- **é™æµ**: 2ç§’é—´éš”

### ğŸ“ˆ **æ€§èƒ½ä¼˜åŒ–**
- **è‡ªé€‚åº”é—®é¢˜æ•°é‡** - æ ¹æ®æ–‡æ¡£æ•°é‡è°ƒæ•´
- **æ‰¹é‡å¤„ç†** - 10ä¸ªé—®é¢˜ä¸€æ‰¹ç”Ÿæˆ
- **é”™è¯¯å¤„ç†** - å®Œå–„çš„fallbackæœºåˆ¶
- **è¿›åº¦è·Ÿè¸ª** - å®æ—¶å¤„ç†çŠ¶æ€

## é¢„æœŸè¾“å‡º

### ğŸ“Š **æ€»ä½“è§„æ¨¡**
- **æ€»Topics**: 9 (ClueWeb22) + n (èƒ½æº) = 10+nä¸ª
- **æ€»é—®é¢˜**: çº¦400-500ä¸ªç ”ç©¶é—®é¢˜
- **æ€»æŠ¥å‘Š**: 10+nä¸ªä¸“å®¶çº§åŸŸæŠ¥å‘Š
- **å¤„ç†æ—¶é—´**: çº¦2-3å°æ—¶ (å–å†³äºAPIå“åº”)

### ğŸ¯ **è´¨é‡ä¿è¯**
- **åŸŸç‰¹å¼‚æ€§** - é—®é¢˜ç´§å¯†è´´åˆå„è‡ªåŸŸç‰¹å¾
- **ç ”ç©¶ä»·å€¼** - æ¯ä¸ªé—®é¢˜éƒ½æœ‰æ˜ç¡®çš„ç ”ç©¶æ„ä¹‰
- **éš¾åº¦å¹³è¡¡** - ç¬¦åˆé¢„è®¾çš„éš¾åº¦åˆ†å¸ƒ
- **ç±»å‹å¤šæ ·** - è¦†ç›–8ç§ä¸åŒçš„é—®é¢˜ç±»å‹

## ä¸æ—§ç‰ˆæœ¬çš„åŒºåˆ«

### âœ… **ç®€åŒ–ä¼˜åŠ¿**
1. **æ— è·¨åŸŸé—®é¢˜** - ä¸å†ç”¨èƒ½æºæ–‡çŒ®å›ç­”æœ›è¿œé•œé—®é¢˜
2. **æµç¨‹ç®€æ´** - ç›´æ¥ä»æ–‡æ¡£åˆ°é—®é¢˜ï¼Œæ— RAGæ£€ç´¢
3. **ç»Ÿä¸€å¤„ç†** - ClueWeb22å’Œèƒ½æºæ–‡çŒ®ä½¿ç”¨ç›¸åŒæµç¨‹
4. **æ›´å¿«é€Ÿåº¦** - å‡å°‘APIè°ƒç”¨æ¬¡æ•°

### ğŸ“‹ **åŠŸèƒ½å¯¹æ¯”**
| åŠŸèƒ½ | æ—§ç‰ˆæœ¬ (PROMPT+RAG) | æ–°ç‰ˆæœ¬ (PROMPT-only) |
|------|-------------------|-------------------|
| æŠ¥å‘Šç”Ÿæˆ | âœ… | âœ… |
| é—®é¢˜ç”Ÿæˆ | âœ… | âœ… |
| ç­”æ¡ˆç”Ÿæˆ | âœ… | âŒ (æŒ‰éœ€æ±‚ç§»é™¤) |
| RAGæ£€ç´¢ | âœ… | âŒ (ç®€åŒ–) |
| èƒ½æºæ–‡çŒ® | ä»…ç”¨äºRAG | ç‹¬ç«‹topicå¤„ç† |
| è·¨åŸŸåŒ¹é… | æœ‰é—®é¢˜ | æ— æ­¤é—®é¢˜ |

## æ•…éšœæ’é™¤

### ğŸ”§ **å¸¸è§é—®é¢˜**
1. **APIé”™è¯¯** - æ£€æŸ¥API keyå’Œç½‘ç»œè¿æ¥
2. **æ–‡ä»¶ç¼ºå¤±** - ç¡®ä¿ClueWeb22å’Œèƒ½æºæ•°æ®æ–‡ä»¶å­˜åœ¨
3. **å†…å­˜ä¸è¶³** - å¤§æ–‡æ¡£å¯èƒ½éœ€è¦æ›´å¤šå†…å­˜
4. **ç¼–ç é”™è¯¯** - ä½¿ç”¨UTF-8ç¼–ç å¤„ç†å¤šè¯­è¨€æ–‡æ¡£

### ğŸ“ **æ”¯æŒ**
å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. ä¾èµ–åŒ…å®‰è£… (`requests`, `pandas`, `openpyxl`)
2. æ–‡ä»¶è·¯å¾„æ­£ç¡®æ€§
3. API keyæœ‰æ•ˆæ€§
4. ç½‘ç»œè¿æ¥ç¨³å®šæ€§ 